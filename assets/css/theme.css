@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global base overrides & app background */
@layer base {
  html,
  body,
  #__nuxt {
    height: 100%;
  }
  body {
    @apply bg-fun-gradient bg-fixed text-gray-800 font-sans antialiased;
    background-attachment: fixed;
  }
  ::selection {
    @apply bg-primary-500 text-white;
  }
  a {
    @apply text-primary-600 hover:text-primary-500 transition;
  }
  h1,
  h2,
  h3,
  h4 {
    @apply font-display tracking-tight text-ink-strong;
  }
}

@layer utilities {
  .focus-ring:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }
  .anim-fade-in {
    @apply animate-fade-in;
  }
  .anim-pop {
    @apply animate-pop;
  }
  /* Nanosuke avatar animations */
  @keyframes nanosuke-bounce-soft {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6%);
    }
  }
  @keyframes nanosuke-squish-pop {
    0% {
      transform: translateY(0) scale(1);
    }
    30% {
      transform: translateY(4%) scale(1.08, 0.92);
    }
    55% {
      transform: translateY(-6%) scale(0.9, 1.08);
    }
    75% {
      transform: translateY(1%) scale(1.02, 0.98);
    }
    100% {
      transform: translateY(0) scale(1);
    }
  }
  @keyframes nanosuke-float-wiggle {
    0%,
    100% {
      transform: translateY(0) rotate(0deg);
    }
    25% {
      transform: translateY(-4%) rotate(-2deg);
    }
    50% {
      transform: translateY(-2%) rotate(1.5deg);
    }
    75% {
      transform: translateY(-5%) rotate(-1deg);
    }
  }
  .nanosuke-anim-bounce {
    animation: nanosuke-bounce-soft 2.3s ease-in-out infinite;
  }
  .nanosuke-anim-float {
    animation: nanosuke-float-wiggle 4.2s ease-in-out infinite;
  }
  .nanosuke-anim-squish {
    animation: nanosuke-squish-pop 0.95s cubic-bezier(0.65, 0.05, 0.36, 1);
  }
  /* Click one-shot poyooon animation */
  @keyframes poyooon {
    0% {
      transform: scale(1, 1) translate(0%, 0%);
    }
    10% {
      transform: scale(1.1, 0.9) translate(0%, 5%);
    }
    40% {
      transform: scale(1.2, 0.8) translate(0%, 15%);
    }
    50% {
      transform: scale(1, 1) translate(0%, 0%);
    }
    60% {
      transform: scale(0.9, 1.2) translate(0%, -100%);
    }
    75% {
      transform: scale(0.9, 1.2) translate(0%, -20%);
    }
    85% {
      transform: scale(1.2, 0.8) translate(0%, 15%);
    }
    100% {
      transform: scale(1, 1) translate(0%, 0%);
    }
  }
  .poyooon {
    animation: poyooon 0.9s linear 0s 1;
  }
  @media (prefers-reduced-motion: reduce) {
    .nanosuke-anim-bounce,
    .nanosuke-anim-float,
    .nanosuke-anim-squish,
    .poyooon {
      animation: none !important;
    }
  }
  /* Force line-height normal utility for cases where text-* utilities set line-height:1 */
  .lh-normal {
    line-height: normal !important;
  }
  /* scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 6px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }
}
